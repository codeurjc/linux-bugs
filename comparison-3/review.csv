hash,reviewer,iunderstd,understd,bfc,bpc,prc,nfc,asc,spec,obc,safety,patchset,comment
5b2c5540b8,jesus,4,True,4,0,3,0,0,3,0,,,"INFO. This would be a bug fixing commit if we consider that errors returned by BPF are the same to be returned by the ""real"" stack (such as TCP). Of course, we could also consider this is also a matter of opinion, and this is just a perfective commit, trying to take BPF closer to the communication stack (in this case, at the level or error reporting). This is an interesting case of ""being a BFC or not would depend on whether what is considered to be the specification"". If the specification were ""errors should be like those of the TCP/IP stack"", this would be a bug. I'm considering that's the case. But if there is no specification as such, this would be just a perfective commit, making things more ""reasonable"", and more like they were in the past (it seems that was the situation previous to some commit). And could signal a change in specifications (or more likely, an extension of the specifications to address this case). This is also part of a patchset, but it seems it is independent from other patches in it."
9a10064f56,jesus,4,False,0,0,0,4,0,4,0,0.0,,"INFO. This seems to me clearly as a new feature. It ""adds a field to /proc/pid/maps and /proc/pid/smaps to show a userspace-provided name for anonymous vmas"". I think two of the reviewers didn't understood the commit, and that's why they said it is close to a BFC. This is a good example of a new feature, which is extending specifications (vmas should have a field for a userspace-provided name), which is introduced at the same time the patch is committed."
016017a195,jesus,4,True,4,2,0,1,0,0,4,0.0,False,"INFO. Interesting case: a ""not real"" configuration case (a non-useful configuration for compiling the kernel) is fixed in this commit. It is even unlikely that the ""fixed"" config is used at all. However, it avoids an error in that case, so this could be a bug fixing commit. So, I label this as a BFC, but it could also be a BPC (if it is considered that this didn't really trigger a bug), or even (maybe) a NFC (if consider that configuration is now considered)."
11c2bf4a20,jesus,4,True,2,4,0,0,0,0,0,0.0,True,"INFO. This is considered as a bug fix by the author (it is part of a patchset which reads ""This patch series contains various fixes for pci-mvebu.c driver. Only bugfixes, no new features."" But it doesn't really refer to a bug. It seems more like preventing future bugs.  There is no evidence the code is being called in a way that ""invalid size"" actually happens. So, I label it as a BPC. However, it could be a BFC if we consider this is fixing a possible bug (or if a bug were reported about this matter).
"
088c840599,jesus,4,True,0,4,0,0,4,0,0,0.0,True,"INFO: This seems to me clearly a BPC, fixing a warning triggered by a checking tool."
3364c6ce23,jesus,4,True,0,4,0,0,4,0,0,0.0,False,"Fixing a warning by the compiled, when -Warray-bounds is used. This is not really fixing a bug, but fixing the warning, which, maybe, could make it more difficult to find a bug if array bounds are not respected. The commit comment itself says the binary output of the compiler is exactly the same, so it is clear this cannot be fixing a bug, but just, maybe, helping to prevent a future one."
e973746882,jesus,4,False,4,0,0,0,0,0,0,0,False,"INFO. The discussion in LORE [1] shows what is actually happening. The fix avoids confusion when calling the kernel API from userspace. Before the patch, information provided by the kernel could be contradictory, now it is isn't. Now, the question is: does this make it a BFC, a BPC, or something else? In addition, this is in the context of commit ""690a757d610e (""kvm: x86: Add CPUID support for Intel AMX"")"" (which is mentioned in the Fixes field). In other words, some new functionality was added, but it could provide contradictory info to userspace, so that is fixed. Apparently, no bug was reported. However, it seems the spec was that the information should not be contradictory, thus this would be fixing a non-reported bug. Labeling as BFC because of that.

[1] https://lore.kernel.org/all/20220117074531.76925-1-likexu@tencent.com/"
1ac7fd8159,jesus,4,False,4,0,0,0,0,0,0,0,True,"INFO. Interesting case of a commit that could be considered a BFC, or a NFC. Apparently, some families of Intel processors use a new format for some CPU registers (LBR). LBR stands for ""last branch records"", and apparently is a hw mechanism provided by some Intel CPUs to collect information about the call graph, which can be used by performance profilers [1] [2]. It seems that in some of the latest Intel families, some information about missprediction could be lost. The commit fixes this. I'm considering it as a bug fixing commit, because it seems those Intel families are within specs at the moment the commit is written, and providing the right info is also within specs. But it is important to notice that likely those families were not within specs when the fixed code was written, so this could also be considered just as a NFC, adding the feature of supporting these Intel families with respect to performance statistics.

In this case, some of the annotators labeled the commit as PRC, likely because performance was mentioned (but this is, afaik, about performance stats, not performance itself).

[1] https://stackoverflow.com/a/57432063/2075265
[2] https://stackoverflow.com/questions/12160449/call-stack-in-the-perf-profiler"
a8db854be2,jesus,3,True,4,0,0,0,0,0,0,0,True,"INFO. This is a patch sent to a stable branch (note the ""Upstream commit"" field [1], seen in [2]). It is a part of a patchset for a stable release (see [3]: ""This is the start of the stable review cycle for the 5.16.5 release. There are 200 patches in this series""). It seems that in certain cases, a component is not getting the right error information. The commit fixes it. So, it seems to be a BFC (if we consider that passing the right error info is part of the specs). If passing the right error information is not considered a part of the specs, this could be a PRC (which is what two of the annotators did). I'm not sure about implications for safety: labeling as 0 since I don't see any, anyway.


[1] https://www.kernel.org/doc/html/v4.10/process/stable-kernel-rules.html
[2] https://lore.kernel.org/all/20220131105238.574507596@linuxfoundation.org/
[3] https://lore.kernel.org/all/20220131105233.561926043@linuxfoundation.org/"
edb854a368,jesus,4,True,0,0,4,0,0,0,0,0,False,"INFO. This seems to be a perfective commit to me. It helps memory to be used more efficiently in some cases. Doesn't seem to have an effect in behavior, so not really a bug fix. Labelling it as a PRC. Annotators seem to understand the commit as I do, but they seem to consider the waste in memory as a bug (which I think is not the case, since it doesn't cause a malfunction)."
bd2db32e7c,jesus,4,True,4,0,0,0,0,0,0,0,False,"INFO. This seems clearly as a BFC. Some memory could be accessed after (supposedly) being freed. There was a CVE from 2022 about this, CVE-2022-48626 [1]. So, labelling as a BFC. 

[1] https://lore.kernel.org/linux-cve-announce/2024022558-CVE-2022-48626-8a90%40gregkh/"
e2b993302f,jesus,4,True,0,0,4,0,4,0,0,0,False,"INFO. This seems like a clear PRC to me. It just avoids a check, in some circumstances, which is unnecessary in those circumstances. This fixes a warning, which was apparently triggered because that check was performed when it shouldn't (thus, this is also a ASC). Curiously enough, all annotators thought this as a BFC or BPC to some extent, even when apparently they understood the commit as I did. 

Seems to fix CVE-2022-48849 [1] But this doesn't even seem as a BFC to me (???)

It is a commit to a stable release, ""[ Upstream commit e2b993302f40c4eb714ecf896dd9e1c5be7d4cd7 ]"" (seen in the commit to the stable release, which references this one) [2] [3], for 5.15 y 5.16).

[1] https://lore.kernel.org/all/2024071624-CVE-2022-48849-3119@gregkh/
[2] https://lore.kernel.org/all/20220314112746.270164115@linuxfoundation.org/
[3] https://lore.kernel.org/all/20220301201344.18191-20-sashal@kernel.org/"
302e9edd54,jesus,4,True,4,0,0,0,0,0,0,0,False,"INFO. Assuming the spec is that tracing should be enabled/disabled at the instance, and not at a higher level, this would be a bug fix (because it is not, so there is a malfunction)."
6c1f41afc1,jesus,3,True,4,0,0,0,0,0,0,1,False,"It seems this is fixing a case that causes malfunction, and is reported as a bug (notice the ""Reported-by:"" line). So, I think this is a clear BFC. Maybe it could have implications for safety, in the case there is a problem with the network devices, but I'm not sure (labeling as ""1"" for that)."
0966d38583,jesus,3,True,4,0,0,0,0,0,0,3,False,"The commit seems to fix a case when the offset, in RISC V, is returned erroneously. So, it seems a clear BFC to me. It could also have implications for safety."
16b1941eac,jesus,4,True,4,0,0,0,4,0,0,3,False,"INFO. This seems like a clear BFC, triggered by an automated tool (A fuzzer). It could be a safety-related bug, since a variable is used after being freed, which in principle could have unintended consequences.

This said, it is interesting this sentence in the commit message: ""The race wouldn't occur if the gadget core registered its devices on a real bus, using the standard synchronization techniques of the driver core."" Reading the complete message, the bug manifests in the gadget core (this is in the USB subsystem) because it is not using the ""standard synchronization techniques provided by the driver core"". However, the bug is fixed not in the gadget core, but in the driver core, thus preventing bugs caused by other gadgets that could not be using those standard techniques."
0a3a4b9d2b,jesus,4,True,0,0,0,4,0,4,0,0,True,"INFO. A variable is increased in size, to hold more elements (in this case, number of timer interrupts, if I understand it well). I think we can assume the previous value (10) was good enough when the code was written, being therefore a part of the specs at that time (no more than 10 timer interrupts). But with time, this become too small, and needed to be extended (both in the specs, and in the code). This is also drawn from the sentence: ""Which restrict the scalability of the MCT driver for the SoC which has more local timers interrupts"", which seems to imply that to gain scalability to allow for SoC, with more timer interrupts (thus, extending specs to consider them), the size needs to be enlarged. Thus, I consider this really as a NFC, and a change in specs (but the change in specs could happen earlier, which these kind of devices were included in the specs for the kernel).

If we consider that the specs were already changed earlier, and this is not just a commit to implement such specs, this would be a BFC. Which shows the importance of the changes in spec, and the ""intention"" of a commit (to implement a change in specs, which would be a NFC, or to fix a bug because specs changed and some part of the code is not adhering to them, which would be a BFC or maybe a BPC).

It is also interesting how annotators differed in the interpretation of the commit."
c95aa2bab9,jesus,4,True,0,4,0,0,0,0,0,0,False,"INFO: Fixes a dependency problem in the configuration info for the kernel. There is no indication of a bug, thus this is trying to prevent bugs. This could cause an obvious bug if triggered, because the resulting kernel would have a missing  module. But I don't think this would be the case, since that could go unnoticed, because the resulting kernel would likely work as intended, except for matters related to the missing module.

Curiously enough, annotators identified this as a BFC (3,4)"
7a70d9a1cf,jesus,4,True,0,4,4,0,0,0,0,0,False,"INFO. There are two things addressed in this commit. One is checking if the needed hw is present, which seems to be a perfective commit, PRC since it really doesn't fix or prevent a malfunction, except for the log message, which in any case would be correct (stating that hw is not available). The other one is fixing dependency information, which could cause a bug (no report is provided), and is thus a BPC."
e52432e164,jesus,4,True,0,4,0,0,4,0,0,0,False,"INFO. This seems a clear BPC, triggered by a compiler warning (and therefore, a ASC as well). There is no report of a real bug, and the message states clearly that the fix ""keep[s] this code robust if the use of proxy_dev->req_len ever changes in the future""

It is also interesting how a developer, in an answer [1], shows how there is no chance of having a problem, so this really only ""keeps the compiler happy"". Which reinfrces the idea that this is a BPC.

[1] https://lore.kernel.org/lkml/4b59d305-6858-1514-751a-37853ad777be@linux.ibm.com/"
30d024b505,jesus,4,True,0,0,4,0,4,0,0,0,False,"INFO. This seems like a perfective commit, since it only fixes the case that users of the file get a warning about a struct not being declared in the header file. It doesn't seem to have any effect on the behaviour of the kernel."
09e7af76db,jesus,4,True,0,4,0,0,0,0,0,0,False,"This commit is preventing a non-reported bug: ""As the potential failure of the clk_enable(), it should be better to check it and return error if fails."""
dca4f5fdbc,jesus,4,True,0,4,0,0,4,0,0,4,False,"INFO: Bug preventing commit. Uses a pre-defined helper, instead of some specific code, which could trigger bugs. In part, the commit is triggered by a warning, thus ASC.

Interesting that some annotators think this is a PRC (maybe because the use of a helper being a kind of refactoring?). I'm not labeling as PRC because in my opinion, the refactoring is at the service of fixing the potential bug, and is not a refactoring without an impact on behavior (now, some bugs are prevented, but nothing else changed)."
c8e98eaf2b,jesus,4,True,0,0,0,4,0,4,0,0,False,"INFO. Clear NFC: ""Add a board config adl_rt5682 to support alc5682 headset codec"". No bug to fix (except if adding a new configuration for a new device is considered as fixing a bug, which in some contexts cout be...).

Good example of a case which seems a NFC, but could be considered as a BFC if adding support for a missing codec is considered as fixing a bug.

I assume it is a spec change, because now scpec include this new codec."
ed482dc8c7,jesus,4,True,4,0,0,0,0,0,4,0,False,"INFO. Fixes some build failures, so BFC. The expression ""which can lead to build failures in some configurations"" could, however, imply it is a BPC, so that could also be fasible. I tend to think it is a BFC because in this case, the bug seems to be clear, given that those configurations that are mentioned are possible. However, there is room for discussion, so this could be a good example of a borderline BFC / BPC. Also, it is a good example of a BFC (or BPC) fixing a bug at build time (meaning that the system wouldn't even build). It is an obvious bug, because if it happens, it is obvious there is an error, which should be catched."
aa0a20f521,jesus,4,False,0,4,0,0,0,0,0,4,True,"INFO. BPC, since the commit changes code to ""avoid using R9 in the IRQ handler code, as the entry code uses it for tsk, and expects it to remain untouched between the IRQ entry and exit
code."" No specific bug is mentioned, and this is done in the context of supporting some new SMP processors, if I understand well the rest of the patchset, and the previous versions of it. Looking at the message describing the patchset [1], this is in fact v4 of the patchset which included the new functionality. Therefore, it would be a NCF, if not because it seems that V4 was accepted into the kernel, even when problems with it were found later, and that's the reason for V5 and V6 (which is produced as a delta against V4, which is already in the kernel).

In summary: some new functionality is added to the kernel (V4), bug is later found with problems, so this V6 is produced (and later accepted). It doesn't seem this patch fixes any specific bug, but clearly addresses a problem with severe potential consequences, thus a BPC (with an impact on safety).

[1] https://lore.kernel.org/all/20220125091453.1475246-1-ardb@kernel.org/"
b00e3e03cf,jesus,4,True,0,4,0,0,0,0,0,0,True,"INFO. It is described how it is found that ""LDO4 is not connected so disable it"", and LDO5 is connected and used, so it should be enabled. The commit fixes this. No specific bug is mentioned, but it is likely that software using LD05 would not work. So, I think this is a BPC.

I see some annotators consider this as a PRC, which I don´t understand, because it has an impact in ""correctness"" (some faulty behavior would be avoided). I also don't understand how this can be an NFC.

Interesting case of three annotators (four with me) understanding the commit the same way, but reaching very different conclusions about how to classify it."
daeb1c2b50,jesus,3,True,0,4,0,0,0,0,0,4,True,"INFO. This seems to be a bug preventing commit: ""The pin controller device node is expected to have one (optional) interrupt. [...] Exynos850 defined the second part - interrupt for each pin in wake-up pin controller - but also added these interrupts in main device node, which is not correct."" Therefore, no specific malfunction is described, but the mapping of interrupts was not correct. It could be a BFC if we consider this fixes a bug, but in fact it seems to be mostly a bug preventing action, or even a perfective action, since there is no description of specific problems caused. I'm labeling it as BPC, since a user of this code could think it can select the interrupt in the device node, which would trigger the bug (I think).

Interesting case of a commit where we all have different opinions on how to classify, even when we have at least a general understanding about what is happening. Maybe we could need a kernel developer to explain further this commit, and its consequences?

Also, labeling it a safety-related, because it could happen, if I understand it well, that the wake-up int is needed, but it is connected to the wrong interrupt (in the main device node)."
dd2319c618,jesus,4,True,0,4,0,0,0,0,0,4,True,"INFO. Bug preventing commit: some new annotations are included, to ensure that a warning is triggered if possible null pointers dereferences are detected. No specific bug is fixed, but the action intends to help in detecting (and hopefully fixing) bugs in vendor modules.

Interesting that, despite being in agreement with this diagnostics, two annotators still give a large mark (3, 4) to BFC."
512865d83f,jesus,4,True,0,0,0,4,0,4,0,0,True,"FIXME. Interesting case: a new version number is exposed to guests (I assume they are users of the module API). I think this is a new feature (new version number exposed by the API), according to change in specs (version number now is the new one). Inherently enough, it is a part of a patchset where  some new functionality is added to this new version (but not in this commit).

Interesting case, because this is likely a corner case of change in specs (and new feature implementation), since it has not a real functional impact."
4ec25b49f4,jesus,4,True,0,0,4,0,0,0,0,0,True,"INFO. Perfective commit. It is on a test, so it cannot change functionality (therefore, not fixing a bug), and it doesn't seem to be implementing or supporting the implementation of a new feature. BTW, the rationale for the change is clear in the message for the whole patchset [1¸: ""There are some bpf tests using hard code netns name like ns0, ns1, etc. This kind of ns name is easily used by other tests or system. If there is already a such netns, all the related tests will failed. So let's use temp netns name for testing.""

[1] https://lore.kernel.org/all/20220125081717.1260849-1-liuhangbin@gmail.com/"
e7b060460f,jesus,4,True,4,0,0,0,0,0,0,0,True,"INFO. The commit adds support for a feature (timestamping in ipv6 ping) which was not supported earlier. Since the spec for ipv6 is clear, this is not a new feature, but a bug fix (some functionality that should be there, according to the spec, was not)."
ae962e5f63,jesus,4,True,0,4,0,0,0,0,0,0,True,"INFO. Bug preventing commit, to avoid possible shadowing of a variable. It doesn't directly change functionality, but tries to prevent future bugs."
6a6f457ed5,jesus,4,True,4,0,0,0,0,0,0,4,True,"INFO. This commit fixes a specific case that could happen: a table could not be allocated, therefore, check if that happened, and in that case, it returns a null pointer. This seems to fix a bug, since the behavior without that check is erroneous, and could cause a malfunction, by trying to work with a table which does not exist. I think it is a BFC and not a BPC because it is actually fixing a very specific case (the table was not allocated, which would cause problems).

Interesting case of what ""prevent"" means, with respect to ""fix"" (see how annotators understood the commit)."
9087c6ff8d,jesus,4,True,0,0,4,0,0,0,0,0,False,"INFO. Moves a call to a function to the proper place. Apparently, there is no change in functionality, only a function that checks some concurrency scenario is called once (instead of twice). So, a perfective commit."
